  START UP PROBLEMS
  =================

1. "Initial installation works, but logging in as admin has no effect (no error message either)."

This problem has often occurred with PHP 4.0.6 and lower.  WebCollab will only run on PHP  4.1.0, or
higher.  PHP 4.0.6 does not support $_POST[], $_GET[] or $_REQUEST[] global arrays.


2. "Initial installation works, but logging in as admin gives a blank screen."

Check that PHP has your database extensions compiled in.  From the command line type 'php -m':

# php -m
Running PHP 4.2.2
Zend Engine v1.2.0, Copyright (c) 1998-2002 Zend Technologies

[PHP Modules]
mysql
pgsql

[Zend Modules]

#

Look for mysql and/or pgsql as required in the modules listing that follows.

Most likely cause is that the default file for php.ini has the mysql or pgsql module line commented
out.  Look for lines in php.ini like this:

;extension=mysql.so
;extension=pgsql.so

Remove the semi-colon ';' from the module you want, and restart Apache. 

Also - many  Linux distributions have separate packages (*.rpm, *.deb, etc) for the main PHP files
and the MySQL/PostgreSQL PHP support.  You need to install the relevant module package as well.


3. "Can login, but the main page is not found (404 error)."

Check that the the parameter $BASE_URL is correctly stated in config.php.  Have you added the
trailing slash "/"?


4. "Does WebCollab use cookies?"

Yes, if possible. Cookies are preferred for session management, but aren't reliable with all
browsers.

Webcollab attempts to set a session cookie at the login.  Additionally it uses encoded URI's at this
stage, also for session management.  If the session cookie is found to be successful (ie the user's
browser accepts the cookie), the encoded URI's are dropped. Otherwise session management with
encoded URI is continued. 

The session cookie lasts only as long as the current session.  It should be automatically destroyed
when the browser is closed, or the user logs out.


4. "Does Magic Quotes need to be set 'on' or 'off' in php.ini?"

No, WebCollab reads the magic_quote setting in php.ini, and uses addslashes() on input data if magic
quotes is 'off' in php.ini.


5. "Does Register Globals need to be 'on' in php.ini?"

The Register Globals setting does not affect WebCollab. For security reasons it has defaulted to
'off' since PHP 4.2.0. 



   CUSTOMISING WEBCOLLAB
   =====================

1. Can the 'Done', 'Active', 'On Hold' etc, labels be changed?

Yes, all the parameters are defined in the language files in /webcollab/lang/  They can be easily
changed to suit.

Alternatively, a new customised language file can be set up and defined in
/webcollab/lang/language.php


2. Can the splash screen image be changed?

Yes, add the new image to /webcollab/images/  and set the $SITE_IMG parameter in config.php


3. Can background colours be changed?

Yes, see the style sheet /webcollab/css.css and /webcollab/includes/screen.php.


4. Can external webserver authorisation be used instead of the login screen.

Yes, set the $WEB_AUTH parameter to "Y" in config.php.  Username is taken from the REMOTE_USER
environment variable set by Apache. 



  UPLOADING FILES
  ===============

1. Error message about wrong configuration when uploading files with the file upload feature.

For Linux and *nix: Make sure the /webcollab/files/filebase directory is writeable by the
webserver.  This means the directory should be either owned by the webserver user (usually apache,
www or www-data) or the directory must be world-writeable.

Use 'chmod 777 filebase' from the files directory, and preferably move the directory outside the
webserver root - see item 3 below. 


2. File upload gives message about server configuration not allowing uploads.

Check that the PHP configuration file, php.ini, is set to allow file uploads.  Check that
'file_uploads = On', or file uploads cannot work.


3. File upload security.

If you use the default /webcollab/files/filebase directory, it is possible for users to navigate to
the directory with their browsers and view the files present.  WebCollab has the filebase directory
protected by a index.html file and .htaccess file, but this is not foolproof.

Ideally, for good security move the file upload directory to outside the webserver root directory.
WebCollab can accommodate an upload directory in any location of the local file system - not just
the webserver root directory.  Make sure the chosen directory is writeable by the user that
normally runs the webserver. 



  EMAIL SETUP
  ===========

1. How does email work in WebCollab?

Early versions of WebCollab used the mail() function call in PHP.  In most cases it worked, but it
can be difficult, particularly with Windows machines.

WebCollab now uses the standard SMTP protocol over TCP/IP to 'talk' to a mail server.  The mail
server can be remote or local.

In config.php:

$SMTP_HOST = DNS name or IP address of the SMTP server


  REMOTE DATABASES
  ================

1. Why can't remote databases be used with PostgreSQL?

Since version 6.3 (03/02/1998) PostgreSQL uses unix domain sockets by default. TCP port will NOT be
opened by default. The TCP option can be enabled with the '-i' flag to postmaster and it's meaning
is: "listen on TCP/ IP sockets as well as Unix domain sockets".

Usually the pg_hba.conf (PostgreSQL config file) also needs to be edited to allow tcp/ip
connections.

Changing $DATABASE_HOST in config.php from "localhost" to anything else (including 127.0.0.1)
without reconfiguring PostgreSQL will *always* prevent WebCollab from connecting to the database.



  DATABASE TYPES
  ==============

postgresql     => Postgresql abstraction layer

mysql          => standard MySQL abstraction layer

mysql_innodb   => MySQL abstraction layer with innodb transaction support



  TRANSACTIONS
  ============

The PostgreSQL abstraction layer uses transactions to provide better security against power failure
(or crash) during writing causing errors, or other similar database corruption.

The mysql_innodb abstraction layer uses transactions.  For MySQL version 3.23.xx the database must
be correctly configured to allow innodb databases to be used.  See the MySQL manual:
http://www.mysql.com/doc/en/InnoDB_in_MySQL_3.23.html

For MySQL version 4.0, and above, innodb database support is enabled by default.  For these versions
(and configured 3.23.xx versions) it is recommended that the database be created with the
mysql_innodb database creation script, and the mysql_innodb abstraction layer is used. Using
transactions significantly reduces the risk of corrupted databases.



  DATABASE BACKUP
  ===============

Two UNIX based shell scripts are provided in /webcollab/db for backing up WebCollab databases.

- dump_mysql.sh for MySQL
  Usage: dump_mysql.sh <database user> <database name> <database password>

- dump_postgresql.sh for Postgresql
  Usage: dump_postgresql.sh <database name>

Both dump into a plain text file.  They can be automated with a cron job and emailed to a back up
machine at regular intervals. 





